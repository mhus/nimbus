{
  "permissions": {
    "allow": [
      "*",
      "Bash(pnpm install)",
      "Bash(pnpm list:*)",
      "Bash(pnpm -r exec:*)",
      "Bash(pnpm build:*)",
      "Bash(tree:*)",
      "Bash(pnpm --filter @nimbus/shared build:*)",
      "Bash(pnpm clean:*)",
      "Bash(pnpm exec tsc:*)",
      "Bash(pnpm --filter @nimbus/client build:*)",
      "Bash(cd:*)",
      "Bash(pnpm build:editor:*)",
      "Bash(pnpm build:shared:*)",
      "Bash(pnpm build:server)",
      "Bash(pnpm build:viewer:*)",
      "Bash(cat:*)",
      "Bash(pnpm add:*)",
      "Bash(pnpm --filter @nimbus/shared add:*)",
      "Bash(pnpm --filter @nimbus/shared test:*)",
      "Bash(pnpm test:*)",
      "Bash(pnpm test:shared:*)",
      "Bash(find:*)",
      "Bash(pnpm dev)",
      "Bash(curl:*)",
      "Bash(chmod:*)",
      "Bash(node scripts/generate-blocktypes.js:*)",
      "Bash(pkill:*)",
      "Bash(echo:*)",
      "Bash(pnpm build:client:*)",
      "Bash(pnpm --filter @nimbus/client exec tsc:*)",
      "Bash(pnpm --filter @nimbus/client build:editor:*)",
      "Bash(pnpm --filter @nimbus/shared exec tsc --noEmit)",
      "Bash(pnpm --filter nimbus_editors exec vue-tsc:*)",
      "Bash(pnpm exec vue-tsc:*)",
      "Bash(pnpm --filter @nimbus/server exec tsc:*)",
      "WebSearch",
      "WebFetch(domain:doc.babylonjs.com)",
      "WebFetch(domain:babylonjs.medium.com)",
      "Bash(npx tsc:*)",
      "Bash(pnpm --filter @nimbus/server build:*)",
      "Bash(pnpm --filter @nimbus/client test ModifierService)",
      "Bash(pnpm --filter @nimbus/client build:shared:*)",
      "Bash(pnpm test:block:*)",
      "Bash(node scripts/migrate-playground-blocks.js:*)",
      "Bash(node scripts/generate-manifest.js:*)",
      "Bash(npm install:*)",
      "Bash(node /Users/hummel/sources/mhus/nimbus/scripts/generate-blocktype-descriptions.js:*)",
      "Bash(pnpm --filter nimbus_test_server build:*)",
      "Bash(node -c:*)",
      "Bash(pnpm --filter @nimbus/engine build:*)",
      "Bash(pnpm --filter @nimbus/engine exec tsc:*)",
      "Bash(npx vue-tsc:*)",
      "Bash(xargs basename:*)",
      "Bash(pnpm --filter @nimbus/controls build:*)",
      "Bash(pnpm --filter @nimbus/engine build:viewer:*)",
      "Bash(pnpm --filter @nimbus/engine build:editor:*)",
      "Bash(git restore:*)",
      "Bash(pnpm --filter @nimbus/test_server build:*)",
      "Bash(pnpm --filter @nimbus/test_server exec tsc:*)"
    ],
    "deny": [],
    "ask": []
  },
  "hooks": {
    "PreCompact": [
      {
        "matcher": "manual",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const fs = require('fs'); const path = require('path'); const input = JSON.parse(fs.readFileSync(0, 'utf-8')); const projectDir = process.env.CLAUDE_PROJECT_DIR || process.cwd(); const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5); const exportDir = path.join(projectDir, '.claude', 'exports'); fs.mkdirSync(exportDir, {recursive: true}); const targetPath = path.join(exportDir, \\`conversation-\\${timestamp}.jsonl\\`); fs.copyFileSync(input.transcript_path, targetPath); console.log(\\`Conversation exported to: \\${targetPath}\\`);\"",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const fs = require('fs'); const path = require('path'); const input = JSON.parse(fs.readFileSync(0, 'utf-8')); const projectDir = process.env.CLAUDE_PROJECT_DIR || process.cwd(); const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5); const exportDir = path.join(projectDir, '.claude', 'exports'); fs.mkdirSync(exportDir, {recursive: true}); const targetPath = path.join(exportDir, \\`conversation-auto-\\${timestamp}.jsonl\\`); fs.copyFileSync(input.transcript_path, targetPath); console.log(\\`Conversation auto-exported to: \\${targetPath}\\`);\"",
            "timeout": 30
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const fs = require('fs'); const path = require('path'); const input = JSON.parse(fs.readFileSync(0, 'utf-8')); const projectDir = process.env.CLAUDE_PROJECT_DIR || process.cwd(); const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5); const exportDir = path.join(projectDir, '.claude', 'exports'); fs.mkdirSync(exportDir, {recursive: true}); const targetPath = path.join(exportDir, \\`conversation-end-\\${timestamp}.jsonl\\`); fs.copyFileSync(input.transcript_path, targetPath); console.log(\\`Session ended (\\${input.reason}). Conversation saved to: \\${targetPath}\\`);\"",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
